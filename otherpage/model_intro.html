<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Model</title>
    <!-- icon, css, font -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Russo+One">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <link rel="icon" href="../image/white-bird-shape.png" type="image/x-icon">

    <link rel="stylesheet" href="../main.css">
    <link rel="stylesheet" href="../material-icon.css">
    <link rel="stylesheet" href="../bg-and-img.css">
    <link rel="stylesheet" href="../navbar.css">

    <!-- javascript -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" 
    integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>

    <!-- bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" 
    rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" 
    integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
    
</head>

<body class="bgc-primary color-light">
    <nav class="bgc-cover-primary color-light">
        <div class="container">
            <ul class="menu d-flex">
                <!-- 首頁 -->
                <li class="drop">
                    <a href="../index.html">HOME
                        <span class="material-icons md-18">
                            keyboard_arrow_down
                        </span>
                    </a>
                    <ul class="drop-menu bgc-secondary">
                        <!-- 面臨問題 -->
                        <li class="drop">
                            <a href="./home_issue.html">ISSUE</a>
                        </li>
                        <!-- 未來展望 -->
                        <li class="drop">
                            <a href="./home_future.html">FUTURE</a>
                        </li>
                    </ul>
                </li>
                <!-- 模型介紹 -->
                <li class="drop">
                    <a href="./model.html">MODEL
                        <span class="active material-icons md-18">
                            keyboard_arrow_down
                        </span>
                    </a>
                    <ul class="drop-menu bgc-secondary">
                        <li class="drop">
                            <a class="active" href="./model_intro.html">INTRO</a>
                        </li>
                        <li class="drop">
                            <a href="./model_function.html">FUNCTION</a>
                        </li>
                        <li class="drop">
                            <a href="./model_method.html">METHODOLOGY</a>
                        </li>
                    </ul>
                </li>
                <!-- 聯繫我們 -->
                <li class="drop">
                    <a href="./contact.html">CONTACT</a>
                </li>
                <!-- end -->
            </ul>
        </div>
    </nav>
    <nav class="navblocker bgc-primary">It's navblocker at z-index:0</nav>

    <div class="intro-container">
        <div id="intro-blocker-1" class="d-none">blocker-1</div>

        <article class="intro-book-unfix row txt-center" id="intro-1">
            <div class="col-6 txt-center" id="intro-book-1">
                <div class="" style="width: 100%;">
                    <h1>Our Approach - HRCenterNet</h1>
                    <div class="intro-target">
                        <!-- <img id="intro-target-1" class="h-mid" src="../image/model-intro-1.png" alt=""> -->
                        <img id="intro-target-2" class="h-mid" src="../image/model-intro-2.png" alt="">
                    </div>
                </div>
            </div>
            <div class="col-6 txt-center" id="intro-book-2">
                <div class="" style="width: 100%;">
                    <!-- DO NOT CHAMGE STYLE WIDTH:100% -->
                    <div class="intro-descript">
                        <h1 class="intro-script-1 bgc-primary">Predict centers</h1>
                        <h1 class="intro-script-2 bgc-primary">Predict height and width</h1>
                        <h1 class="intro-script-3 bgc-primary">Form bounding boxes</h1>
                    </div>
                    <div class="intro-descript">
                        <p class="intro-script-1 bgc-primary">Predict centers</p>
                        <p class="intro-script-2 bgc-primary">Predict height and width</p>
                        <p class="intro-script-3 bgc-primary">Form bounding boxes</p>
                    </div>
                    <div class="intro-test-set mt-20 h-mid" >
                        <!-- if position: absolute, h-mid will work wonderfully -->
                        <img id="intro-test-1" class="" src="../image/intro-test-1.png" alt="">
                        <img id="intro-test-2" class="" src="../image/intro-test-2.png" alt="">
                        <img id="intro-test-3" class="" src="../image/intro-test-3.png" alt="">
                    </div>
                </div>
                
            </div>
        </article>

        <article class="intro-book-unfix row txt-center d-none bgc-cover-primary" id="intro-2">
            <div class="col-4 txt-center" id="intro-book-3">
                <div class="" style="width: 100%;">
                    <h1>Heatmap loss</h1>
                    <img class="h-mid" src="../image/model-intro-1.png" alt="">
                </div>
            </div>

            <div class="col-4 txt-center" id="intro-book-4">
                <div class="showboxshape_1" style="width: 100%;">
                    <h1>Unnormalized 2D Gaussian</h1>
                    <img class="h-mid" src="../image/model-intro-eq.png" alt="">
                    <span class="material-icons intro-arrows-1">
                        arrow_right_alt
                    </span>
                </div>
            </div>

            <div class="col-4 txt-center" id="intro-book-5">
                <div class="" style="width: 100%;">
                    <h1>Probabilistic Distribution</h1>
                    <img class="h-mid" src="../image/model-intro-3.png" alt="">
                </div>
            </div>

            <div class="col-4 txt-center" id="intro-book-6">
                <div class="showboxshape_1" style="width: 100%;">
                    <h1>Unnormalized 2D Gaussian</h1>
                    <img class="h-mid" src="../image/model-intro-eq.png" alt="">
                    <span class="material-icons intro-arrows-1">
                        arrow_right_alt
                    </span>
                </div>
            </div>

            <div class="col-12 txt-center" id="intro-book-bottom">
                <p>
                    &emsp;&emsp;In this study, we translate the topic of bird detection into a standard single keypoint detection problem. 
                    The model output a heatmap, which is an image composed of the probability values representing the centroids in each pixel. 
                    In addition to the heatmap, the model should also output the relevant properties for each center point, 
                    including the corresponding length and width of each center point to form the binding box
                </p>
            </div>
        </article>

        <section id="intro-sec-4" class="showboxshape_3">4</section>
        <section id="intro-sec-5">5</section>
        <section id="intro-sec-6" class="showboxshape_3">6</section>
        <section id="intro-sec-7">7</section>
        <section id="intro-sec-8" class="showboxshape_3">8</section>



    </div>

    <div class="footer bg-secondary color-muted">
        <div class="container d-none jcsb">
            <div class="footer-copyright">@copyright-NCCU DSC Group of Web</div>
        </div>
    </div>

    
    <script>
        var bookTop = $('#intro-1').offset().top;   

        var navblockerHere = ($('.navblocker').offset().top + document.querySelector('.navblocker').offsetHeight);
        
        var secHeight = Math.min((0.95*window.innerHeight), (1.00*window.innerHeight - document.querySelector('.navblocker').offsetHeight));
        var sec1Top = Math.min((0.05*window.innerHeight), (document.querySelector('.navblocker').offsetHeight));
        var sec2Top = 1.00*window.innerHeight;
        var sec3Top = Math.min((1.95*window.innerHeight), (2.00*window.innerHeight - 1*document.querySelector('.navblocker').offsetHeight));
        var sec4Top = Math.min((2.90*window.innerHeight), (3.00*window.innerHeight - 2*document.querySelector('.navblocker').offsetHeight));
        var sec5Top = Math.min((3.85*window.innerHeight), (4.00*window.innerHeight - 3*document.querySelector('.navblocker').offsetHeight));
        var sec6Top = Math.min((4.80*window.innerHeight), (5.00*window.innerHeight - 4*document.querySelector('.navblocker').offsetHeight));
        var sec7Top = Math.min((5.75*window.innerHeight), (6.00*window.innerHeight - 5*document.querySelector('.navblocker').offsetHeight));
        var sec8Top = Math.min((6.70*window.innerHeight), (7.00*window.innerHeight - 6*document.querySelector('.navblocker').offsetHeight));
        // window.innerHeight = 100vh

        $('#intro-blocker-1').css({ height: (sec3Top - navblockerHere)});
        console.log(bookTop);
        console.log(navblockerHere);
        console.log($('#intro-1').width());

        $(window).scroll(function() {
            // var currentScroll = $(window).scrollTop(); // get current position
            var stopBaseline = $(window).scrollTop() + navblockerHere;

            // first scroll
            if (stopBaseline > bookTop) {
                $('#intro-1').addClass("intro-book-fix");
                $('#intro-1').removeClass("intro-book-unfix");
            } else {
                $('#intro-1').addClass("intro-book-unfix");
                $('#intro-1').removeClass("intro-book-fix");
            }

            var introChange1 = (function(workSec) {
                var initwork = workSec + 0*secHeight;
                var stopwork = workSec + 0.4*secHeight;
                var opacity = (stopBaseline - stopwork)/(0.4*secHeight);
                if ((opacity > 0) && (opacity < 1)) {
                    return opacity;
                } else if (opacity > 1) {
                    return 1;
                } else {
                    return 0;
                }
            });

            $('.intro-script-1').css({ opacity: 1});
            $('#intro-test-1').css({ opacity: 1});
            $('.intro-script-2').css({ opacity: introChange1(sec1Top)});
            $('#intro-test-2').css({ opacity: introChange1(sec1Top)});
            $('.intro-script-3').css({ opacity: introChange1(sec2Top)});
            $('#intro-test-3').css({ opacity: introChange1(sec2Top)});

            // then .. stop
            if (stopBaseline > sec3Top) {
                // console.log("should stop");
                $('#intro-1').addClass("intro-book-unfix");
                $('#intro-1').removeClass("intro-book-fix");
                $('#intro-blocker-1').removeClass("d-none");
                $('#intro-2').removeClass("d-none");

            } else {
                // console.log("should bork");
                $('#intro-1').addClass("intro-book-fix");
                $('#intro-1').removeClass("intro-book-unfix");
                $('#intro-blocker-1').addClass("d-none");
                $('#intro-2').addClass("d-none");
            }
        
            // second scroll
            if (stopBaseline > (sec4Top - 2)) {
                $('#intro-2').addClass("intro-book-fix");
                $('#intro-2').removeClass("intro-book-unfix");
                $('#intro-2').css({
                    top: navblockerHere
                })
            } else {
                $('#intro-2').removeClass("intro-book-fix");
                $('#intro-2').addClass("intro-book-unfix");
                $('#intro-2').css({
                    top: 0
                })
            }

            var bookWidth = 0.333333 * $('#intro-2').width();

            var introChange2 = (function (workSec) {
                var initwork = workSec - 0.7*secHeight;
                var stopwork = workSec - 0.5*secHeight;
                if ((stopBaseline > initwork) && (stopBaseline <= stopwork)) {
                    return (1 - (stopBaseline - initwork)/(0.2*secHeight));
                } else if (stopBaseline > stopwork) {
                    return 0;
                } else {
                    return 1;
                }
            });

            if (introChange2(sec5Top) < 1 && introChange2(sec5Top) >= 0.5) {
                $("#intro-book-4").css({ opacity: 2*introChange2(sec5Top) - 1 });
                $("#intro-book-4").css({ width: introChange2(sec5Top) * bookWidth});
                $('#intro-book-4').removeClass("col-4")
            } else if ((introChange2(sec5Top) < 0.5 && introChange2(sec5Top) > 0)) {
                $("#intro-book-4").css({ opacity: 0 });
                $("#intro-book-4").css({ width: introChange2(sec5Top) * bookWidth});
                $("#intro-book-4").addClass("no-padding");
                $("#intro-book-4").removeClass("d-none");
            } else if (introChange2(sec5Top) == 0) {
                $("#intro-book-4").css({ opacity: 0 });
                $("#intro-book-4").addClass("d-none");
            } else {
                $("#intro-book-4").css({ opacity: 1});
                $("#intro-book-4").css({ width: bookWidth});
                $('#intro-book-4').addClass("col-4")
                $("#intro-book-4").removeClass("d-none");
                $("#intro-book-4").removeClass("no-padding");
            }

        });
        //   document.getElementById("demo").innerHTML = "You scrolled in div.";
        
        </script>

</body>

</html>